# 🛡️ מערכת תמלול מאובטחת למטפלים - מדריך מלא

## 🎯 סקירה כללית

מערכת תמלול מתקדמת עם הצפנה היברידית המיועדת במיוחד למטפלים ורופאים. המערכת מבטיחה חיסיון רפואי מוחלט עם אפשרות גישה מכל מכשיר.

## 🔐 רמות אבטחה

### 1. הצפנה היברידית (מומלץ למטפלים)
- **הצפנה דו-שכבתית**: הצפנה מקומית + הצפנה אישית
- **השרת לא רואה כלום**: רק נתונים מוצפנים נשמרים
- **סנכרון בין מכשירים**: גישה מכל מכשיר עם הסיסמה האישית
- **גיבוי אוטומטי**: הכל נשמר מוצפן בענן

### 2. תמלול מקומי (פרטיות מקסימלית)
- **עיבוד במחשב**: הכל נשאר במחשב שלך
- **אין שליחה לשרת**: אף נתון לא יוצא מהמחשב
- **שמירה מקומית**: קבצים נשמרים רק אצלך

## 🚀 התחלה מהירה

### שלב 1: הרשמה למערכת
1. לחץ על "כניסה למערכת" בפינה הימנית העליונה
2. בחר "הירשם כאן" 
3. מלא פרטים: שם מלא, אימייל, סיסמה
4. לחץ "הירשם למערכת"

### שלב 2: הגדרת הצפנה אישית (מומלץ)
1. אחרי הכניסה, לחץ על כפתור "🔐 הצפנה"
2. בחר סיסמת הצפנה חזקה (לפחות 8 תווים)
3. **חשוב**: שמור את הסיסמה במקום בטוח!
4. לחץ "צור מפתח הצפנה"

### שלב 3: תמלול ראשון
1. חזור לעמוד הראשי
2. הזן שם מטופל
3. בחר תאריך הסשן
4. בחר "🛡️ תמלול היברידי מוצפן"
5. הזן את סיסמת ההצפנה שיצרת
6. העלה קובץ שמע או הקלט ישירות
7. לחץ "🎯 התחל תמלול"

## 🔧 אפשרויות תמלול

### תמלול היברידי מוצפן (מומלץ למטפלים)
```
✅ הצפנה דו-שכבתית
✅ סנכרון בין מכשירים  
✅ גיבוי אוטומטי בענן
✅ גישה מכל מקום עם הסיסמה
⚠️ דורש הגדרת סיסמת הצפנה
```

### Faster-Whisper (מקומי מוצפן)
```
✅ עיבוד מקומי במחשב
✅ מהיר ויעיל
✅ תמיכה מעולה בעברית
✅ פרטיות מלאה
❌ אין סנכרון בין מכשירים
```

### ivrit.ai (מותאם לעברית)
```
✅ מודל מותאם במיוחד לעברית
✅ דיוק גבוה במיוחד
✅ עיבוד מקומי
❌ דורש התקנה נוספת
```

### AssemblyAI (ענן מוצפן)
```
✅ דיוק גבוה מאוד
✅ תמיכה בקבצים גדולים
⚠️ עיבוד בענן (מוצפן)
💰 עלות לפי שימוש
```

## 📡 API Reference

### הגדרת הצפנה
```http
POST /encryption/setup
Authorization: Bearer {session_token}
Content-Type: application/json

{
    "master_password": "strong_password_here"
}
```

### תמלול מוצפן
```http
POST /transcribe-encrypted
Authorization: Bearer {session_token}
Content-Type: multipart/form-data

{
    "audio": file,
    "patient_name": "שם המטופל",
    "session_date": "2024-01-15",
    "quality_mode": "assemblyai",
    "encryption_key": "user_encryption_key"
}
```

### קבלת סשנים מוצפנים
```http
GET /encryption/sessions
Authorization: Bearer {session_token}
```

### פענוח סשן
```http
POST /encryption/decrypt-session
Authorization: Bearer {session_token}
Content-Type: application/json

{
    "session_id": "session_id",
    "encryption_key": "user_encryption_key"
}
```

## 🔒 אבטחה ופרטיות

### עקרונות האבטחה

#### הצפנה דו-שכבתית
1. **שכבה ראשונה**: הצפנה מקומית במכשיר לפני שליחה לשרת
2. **שכבה שנייה**: הצפנה נוספת עם מפתח אישי של המטפל

#### פרטיות מוחלטת
- **אף אחד לא יכול לראות את המידע** - כולל מפעילי השרת
- **הסיסמה לא נשלחת לשרת** - רק נשמרת מקומית
- **פענוח רק במכשיר** - השרת שומר רק נתונים מוצפנים

### מה השרת לא יכול לראות:
- ❌ שמות מטופלים
- ❌ תוכן התמלולים
- ❌ קבצי השמע
- ❌ כל מידע רפואי

### מה השרת כן רואה:
- ✅ שם המשתמש (המטפל)
- ✅ תאריכי סשנים (בלבד)
- ✅ נתונים מוצפנים בלבד
- ✅ מטא-דאטה לא רגישה (מספר מילים, וכו')

## 🔐 פרטי ההצפנה

### אלגוריתמים בשימוש
- **Scrypt**: לגזירת מפתחות מסיסמאות (עמיד יותר מ-PBKDF2)
- **Fernet**: להצפנה סימטרית (AES 128 + HMAC SHA256)
- **SHA256**: ל-hashing ואימות

### פרמטרי אבטחה
```python
# Scrypt parameters
n=2**14,      # 16384 iterations
r=8,          # Block size
p=1,          # Parallelization
salt=32 bytes # Random salt

# Key derivation
key_length=32 bytes  # 256 bits
```

## 📱 גישה ממכשירים נוספים

### במחשב חדש:
1. היכנס לאתר
2. התחבר עם האימייל והסיסמה שלך
3. לחץ על "🔐 הצפנה"
4. הזן את סיסמת ההצפנה האישית
5. כל הסשנים שלך יהיו זמינים!

### בטלפון:
1. פתח את האתר בדפדפן
2. התחבר למערכת
3. אמת את סיסמת ההצפנה
4. צפה בכל הסשנים המוצפנים שלך

## 🛠️ תכונות מתקדמות

### לוח בקרת הצפנה
- 📊 סטטיסטיקות הצפנה
- 🔄 סנכרון ידני לענן
- 📦 יצוא גיבוי מוצפן
- 📥 יבוא גיבוי מוצפן
- 🗑️ מחיקת סשנים

### ניהול סשנים
- 📋 צפייה בכל הסשנים
- 🔍 חיפוש לפי מטופל
- 📝 עריכת תמלולים
- 📋 יצירת טפסי טיפול
- 💾 הורדת גיבויים

## 🛠️ התקנה והפעלה

### דרישות מערכת
```bash
pip install -r requirements.txt
```

### הפעלת המערכת
```bash
python app.py
```

### הגדרת משתני סביבה
צור קובץ `.env` עם:
```
ASSEMBLYAI_API_KEY=your-api-key-here
GOOGLE_CLIENT_ID=your-google-client-id
DEBUG=True
HOST=0.0.0.0
PORT=5000
```

## 🚨 אזהרות חשובות

### ⚠️ סיסמת הצפנה
- **לא ניתנת לשחזור**: אם תשכח - הסשנים יאבדו לצמיתות
- **שמור גיבוי**: רשום במקום בטוח ונפרד
- **אל תשתף**: אף פעם אל תיתן לאף אחד את הסיסמה
- **סיסמה חזקה**: השתמש בשילוב של אותיות, מספרים וסימנים

### 🔐 מומלץ לפרודקשן
- ✅ הפעל HTTPS
- ✅ גבה את מסד הנתונים
- ✅ עקוב אחר לוגי אבטחה
- ✅ עדכן ספריות הצפנה
- ✅ השתמש בסיסמאות חזקות

## 🔍 פתרון בעיות

### שגיאות נפוצות

#### "לא נמצא מפתח הצפנה למטפל זה"
**פתרון**: לך ללוח בקרת ההצפנה וצור מפתח חדש

#### "סיסמת הצפנה שגויה"
**פתרון**: ודא שהסיסמה נכונה. אם שכחת - אין אפשרות שחזור!

#### "שגיאה בפענוח סשן"
**סיבות אפשריות**:
- סיסמה שגויה
- נתונים פגומים  
- גרסה לא תואמת

### לוגים ומעקב
כל פעולה נרשמת ב: `transcripts/_privacy_logs/`

## 🎓 טיפים למטפלים

### לשיפור איכות התמלול:
1. **הקלט במקום שקט** - רעש רקע פוגע בדיוק
2. **דבר בבירור** - הגייה ברורה משפרת את התוצאות
3. **השתמש במיקרופון טוב** - איכות השמע קריטית
4. **הימנע מהפרעות** - טלפונים, דלתות, וכו'
5. **בדוק את התמלול** - תמיד עבור על הטקסט ותקן שגיאות

### לאבטחה מקסימלית:
1. **השתמש בהצפנה היברידית** - הרמה הגבוהה ביותר
2. **סיסמה ייחודית** - אל תשתמש בסיסמה מאתרים אחרים
3. **גבה באופן קבוע** - יצא גיבוי מוצפן מדי פעם
4. **התנתק אחרי השימוש** - במיוחד במחשבים ציבוריים
5. **עדכן את הדפדפן** - תמיד השתמש בגרסה העדכנית

## 📊 ביצועים

### זמני תגובה צפויים
- **יצירת מפתח הצפנה**: 2-5 שניות
- **הצפנת סשן**: 100-500ms
- **פענוח סשן**: 50-200ms
- **סנכרון לענן**: תלוי בכמות הנתונים

## 🔄 עדכונים עתידיים

### בפיתוח:
- [ ] אפליקציה ניידת מלאה
- [ ] שיתוף מוצפן בין מטפלים
- [ ] דוחות אבטחה מפורטים
- [ ] יבוא/יצוא מתקדם

### מתוכנן:
- [ ] הצפנה אסימטרית (RSA/ECC)
- [ ] אינטגרציה עם מערכות חיצוניות
- [ ] ממשק API למפתחים
- [ ] תמיכה בשפות נוספות

---

**🔐 זכור: האבטחה שלך תלויה בסיסמה האישית שלך. שמור עליה היטב!**

**📞 זקוק לעזרה? צור קשר דרך הכפתור הירוק בפינה השמאלית התחתונה**
# Updated Wed Aug 20 01:23:25 IDT 2025
